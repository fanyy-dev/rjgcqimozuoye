{"version":3,"file":"js/Orders.cbe316b3.js","mappings":"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","sources":["webpack://vue-template/./src/views/Orders.vue","webpack://vue-template/src/views/Orders.vue","webpack://vue-template/./src/views/Orders.vue?af9b","webpack://vue-template/./src/views/Orders.vue?6005","webpack://vue-template/./src/api/member.js","webpack://vue-template/./src/api/orders.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"box-table\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入备注\",\"clearable\":\"\"},model:{value:(_vm.searchForm.remark),callback:function ($$v) {_vm.$set(_vm.searchForm, \"remark\", $$v)},expression:\"searchForm.remark\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}},[_c('el-option',{attrs:{\"label\":\"已预订\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"已入住\",\"value\":2}}),_c('el-option',{attrs:{\"label\":\"已退房\",\"value\":3}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"用户\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.searchForm.memberId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"memberId\", $$v)},expression:\"searchForm.memberId\"}},_vm._l((_vm.memberList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name + '-' + item.idcard,\"value\":item.id}})}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.$router.push('/admin/addOrders')}}},[_vm._v(\"新增入住\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"用户\",\"prop\":\"member.name\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"电话\",\"prop\":\"member.phone\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"身份证\",\"prop\":\"member.idcard\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"性别\",\"prop\":\"member.gender\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.member.gender == 1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"男\")]):_vm._e(),(scope.row.member.gender == 2)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"女\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"房型\",\"prop\":\"room.category.categoryName\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"房号\",\"prop\":\"room.roomNum\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"入住时间\",\"prop\":\"startTime\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.startTime.slice(0, 10))+\" \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"居住天数\",\"prop\":\"days\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"prop\":\"status\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status == 1)?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"已预订\")]):_vm._e(),(scope.row.status == 2)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"已入住\")]):_vm._e(),(scope.row.status == 3)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"已退房\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"备注\",\"prop\":\"remark\",\"show-overflow-tooltip\":\"\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"实付金额\",\"prop\":\"money\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" ￥\"+_vm._s(scope.row.money * scope.row.days)+\" \")]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status == 1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.confirmOrder(scope.row)}}},[_vm._v(\"确认入住\")]):_vm._e(),(scope.row.status != 3)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.checkOutOrder(scope.row)}}},[_vm._v(\"退房\")]):_vm._e(),_c('el-popconfirm',{attrs:{\"title\":\"确定删除吗？\"},on:{\"confirm\":function($event){return _vm.deleteCofirm(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\",\"size\":\"small\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('el-pagination',{staticClass:\"page-box\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[10, 20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"退房\",\"visible\":_vm.showCheckOutDialog,\"before-close\":_vm.handleCheckOutDialogClose},on:{\"update:visible\":function($event){_vm.showCheckOutDialog=$event}}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4,\"placeholder\":\"请输入备注(非必须)\"},model:{value:(_vm.checkoutDialogForm.remark),callback:function ($$v) {_vm.$set(_vm.checkoutDialogForm, \"remark\", $$v)},expression:\"checkoutDialogForm.remark\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showCheckOutDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.checkOutDialogConfirm}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"app-container\">\r\n    <el-card class=\"box-table\">\r\n      <el-form :inline=\"true\" class=\"demo-form-inline\" :model=\"searchForm\">\r\n        <el-form-item label=\"备注\">\r\n          <el-input placeholder=\"请输入备注\" v-model=\"searchForm.remark\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\">\r\n          <el-select v-model=\"searchForm.status\" clearable>\r\n            <el-option label=\"已预订\" :value=\"1\"></el-option>\r\n            <el-option label=\"已入住\" :value=\"2\"></el-option>\r\n            <el-option label=\"已退房\" :value=\"3\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户\">\r\n          <el-select v-model=\"searchForm.memberId\" placeholder=\"请选择\" clearable filterable>\r\n            <el-option v-for=\"item in memberList\" :label=\"item.name + '-' + item.idcard\" :value=\"item.id\"\r\n              :key=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\r\n          <el-button type=\"success\" @click=\"$router.push('/admin/addOrders')\">新增入住</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <el-table v-loading=\"listLoading\" :data=\"list\" element-loading-text=\"Loading\" border fit highlight-current-row\r\n        size=\"small\">\r\n        <el-table-column align=\"center\" label=\"ID\" prop=\"id\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"用户\" prop=\"member.name\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"电话\" prop=\"member.phone\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"身份证\" prop=\"member.idcard\" show-overflow-tooltip></el-table-column>\r\n        <el-table-column align=\"center\" label=\"性别\" prop=\"member.gender\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.member.gender == 1\" type=\"success\">男</el-tag>\r\n            <el-tag v-if=\"scope.row.member.gender == 2\" type=\"danger\">女</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"房型\" prop=\"room.category.categoryName\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"房号\" prop=\"room.roomNum\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"入住时间\" prop=\"startTime\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.startTime.slice(0, 10) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"居住天数\" prop=\"days\"></el-table-column>\r\n        <el-table-column align=\"center\" label=\"状态\" prop=\"status\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag v-if=\"scope.row.status == 1\" type=\"warning\">已预订</el-tag>\r\n            <el-tag v-if=\"scope.row.status == 2\" type=\"success\">已入住</el-tag>\r\n            <el-tag v-if=\"scope.row.status == 3\" type=\"danger\">已退房</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" label=\"备注\" prop=\"remark\" show-overflow-tooltip></el-table-column>\r\n        <el-table-column align=\"center\" label=\"实付金额\" prop=\"money\">\r\n          <template slot-scope=\"scope\">\r\n            ￥{{  scope.row.money *  scope.row.days  }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-if=\"scope.row.status == 1\" @click=\"confirmOrder(scope.row)\" type=\"text\"\r\n              size=\"small\">确认入住</el-button>\r\n            <el-button v-if=\"scope.row.status != 3\" @click=\"checkOutOrder(scope.row)\" type=\"text\" size=\"small\">退房</el-button>\r\n            <el-popconfirm title=\"确定删除吗？\" @confirm=\"deleteCofirm(scope.row)\">\r\n              <el-button type=\"text\" slot=\"reference\" size=\"small\">删除</el-button>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination class=\"page-box\" background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n        :current-page=\"pageNum\" :page-sizes=\"[10, 20]\" :page-size=\"pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n    <el-dialog title=\"退房\" :visible.sync=\"showCheckOutDialog\" :before-close=\"handleCheckOutDialogClose\">\r\n      <el-input type=\"textarea\" :rows=\"4\" placeholder=\"请输入备注(非必须)\" v-model=\"checkoutDialogForm.remark\">\r\n      </el-input>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"showCheckOutDialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"checkOutDialogConfirm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {findOrdersPageAPI,removeOrdersAPI,confirmAPI,checkOutAPI} from \"@/api/orders\";\r\nimport { findAllMemberAPI } from '@/api/member'\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: null,\r\n      listLoading: true,\r\n      pageSize: 10,\r\n      pageNum: 1,\r\n      total: 0,\r\n      searchForm: {},\r\n      dialogTitle: \"添加\",\r\n      dialogFormVisible: false,\r\n      dialogForm: {},\r\n      memberList: [],\r\n      checkoutDialogForm: {},\r\n      showCheckOutDialog: false\r\n    };\r\n  },\r\n  async created() {\r\n    this.fetchData();\r\n    //查询所有用户\r\n    const res = await findAllMemberAPI()\r\n    this.memberList = res.data\r\n  },\r\n  methods: {\r\n    handleSizeChange(val) {//每页显示条数改变\r\n      this.pageSize = val;\r\n      this.fetchData();\r\n    },\r\n    handleCurrentChange(val) {//当前页码改变\r\n      this.pageNum = val;\r\n      this.fetchData();\r\n    },\r\n    handleSearch() {//点击搜索按钮\r\n      this.fetchData();\r\n    },\r\n    async fetchData() {//查询数据\r\n      this.listLoading = true;\r\n      let response = await findOrdersPageAPI(\r\n        this.pageNum,\r\n        this.pageSize,\r\n        this.searchForm\r\n      );\r\n      this.list = response.data.records;\r\n      this.total = response.data.total;\r\n      this.listLoading = false;\r\n    },\r\n    async deleteCofirm(row) {//点击确定删除按钮\r\n      this.pageNum = 1;\r\n      const res = await removeOrdersAPI(row.id);\r\n      this.$message({\r\n        message: res.message,\r\n        type: res.flag ? \"success\" : \"error\",\r\n      });\r\n      this.fetchData();\r\n    },\r\n    //确认入住\r\n    confirmOrder(row) {\r\n      this.$confirm('确定入住吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        const res = await confirmAPI(row.id)\r\n        this.$message({\r\n          message: res.message,\r\n          type: res.flag ? \"success\" : \"error\",\r\n        });\r\n        this.fetchData();\r\n      }).catch(() => { });\r\n    },\r\n    handleCheckOutDialogClose(){\r\n      this.showCheckOutDialog = false\r\n      this.checkoutDialogForm.remark = ''\r\n    },\r\n    //点击退房\r\n    checkOutOrder({id}) {\r\n      this.showCheckOutDialog = true\r\n      this.checkoutDialogForm.id = id\r\n    },\r\n    //确认退房\r\n    async checkOutDialogConfirm() {\r\n      const res = await checkOutAPI(this.checkoutDialogForm)\r\n      this.$message({\r\n        message: res.message,\r\n        type: res.flag ? \"success\" : \"error\",\r\n      });\r\n      if(res.flag){\r\n        this.showCheckOutDialog = false\r\n        this.fetchData();\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.page-box {\r\n  margin-top: 20px;\r\n}\r\n\r\n.app-container {\r\n  background-color: #FFF8DC;\r\n  min-height: calc(100vh - 92px);\r\n}\r\n\r\n.box-table {\r\n  border-radius: 10px;\r\n  border: 2px solid #D2B48C;\r\n  box-shadow: 0 4px 12px rgba(139, 69, 19, 0.15);\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-form {\r\n  background-color: #FFF8DC;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #D2B48C;\r\n}\r\n\r\n.el-input__wrapper,\r\n.el-select .el-input__wrapper {\r\n  border: 2px solid #D2B48C !important;\r\n  border-radius: 8px !important;\r\n  \r\n  &:hover {\r\n    border-color: #FFA500 !important;\r\n  }\r\n}\r\n\r\n.el-button {\r\n  &[type=\"primary\"] {\r\n    background-color: #FFA500 !important;\r\n    border-color: #FFA500 !important;\r\n    color: #8B4513 !important;\r\n    font-weight: bold;\r\n    \r\n    &:hover {\r\n      background-color: #FF8C00 !important;\r\n      border-color: #FF8C00 !important;\r\n    }\r\n  }\r\n  \r\n  &[type=\"success\"] {\r\n    background-color: #D2B48C !important;\r\n    border-color: #D2B48C !important;\r\n    color: #8B4513 !important;\r\n    font-weight: bold;\r\n    \r\n    &:hover {\r\n      background-color: #CD853F !important;\r\n      border-color: #CD853F !important;\r\n    }\r\n  }\r\n  \r\n  &:not([type=\"primary\"]):not([type=\"success\"]) {\r\n    background-color: #D2B48C !important;\r\n    border-color: #D2B48C !important;\r\n    color: #8B4513 !important;\r\n    \r\n    &:hover {\r\n      background-color: #CD853F !important;\r\n      border-color: #CD853F !important;\r\n    }\r\n  }\r\n  \r\n  &[type=\"text\"] {\r\n    background-color: transparent !important;\r\n    border: none !important;\r\n    color: #8B4513 !important;\r\n    \r\n    &:hover {\r\n      background-color: rgba(139, 69, 19, 0.1) !important;\r\n    }\r\n  }\r\n}\r\n\r\n.el-table {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  \r\n  .el-table__header-wrapper {\r\n    background-color: #8B4513;\r\n    \r\n    th {\r\n      color: white !important;\r\n      font-weight: bold;\r\n      border-bottom: none;\r\n    }\r\n  }\r\n  \r\n  .el-table__body-wrapper {\r\n    border: 1px solid #D2B48C;\r\n    border-top: none;\r\n    \r\n    td {\r\n      border-bottom: 1px solid #D2B48C;\r\n      color: #8B4513;\r\n    }\r\n  }\r\n  \r\n  .el-table__row:hover {\r\n    background-color: rgba(255, 165, 0, 0.1);\r\n  }\r\n}\r\n\r\n.el-pagination {\r\n  .el-pagination__sizes .el-input .el-input__wrapper {\r\n    border-color: #D2B48C !important;\r\n  }\r\n  \r\n  .el-pagination__button {\r\n    color: #8B4513;\r\n    \r\n    &:hover {\r\n      color: #FFA500;\r\n    }\r\n  }\r\n  \r\n  .el-pager li {\r\n    color: #8B4513;\r\n    \r\n    &.active {\r\n      background-color: #FFA500;\r\n      color: #8B4513;\r\n      font-weight: bold;\r\n    }\r\n    \r\n    &:hover {\r\n      color: #FFA500;\r\n    }\r\n  }\r\n}\r\n\r\n.el-dialog {\r\n  border-radius: 10px;\r\n  \r\n  .el-dialog__header {\r\n    background-color: #8B4513;\r\n    color: white;\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n  \r\n  .el-dialog__title {\r\n    color: white !important;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .el-dialog__body {\r\n    background-color: #FFF8DC;\r\n  }\r\n}\r\n\r\n.el-tag {\r\n  &[type=\"success\"] {\r\n    background-color: #FFA500;\r\n    border-color: #FFA500;\r\n    color: #8B4513;\r\n  }\r\n  \r\n  &[type=\"danger\"] {\r\n    background-color: #8B4513;\r\n    border-color: #8B4513;\r\n    color: white;\r\n  }\r\n  \r\n  &[type=\"warning\"] {\r\n    background-color: #CD853F;\r\n    border-color: #CD853F;\r\n    color: #8B4513;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=c3b09f08&scoped=true\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nimport style0 from \"./Orders.vue?vue&type=style&index=0&id=c3b09f08&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3b09f08\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\n//根据条件分页查询\r\nexport const findMemberPageAPI = (pageNum,pageSize,params) => {\r\n    return request({\r\n        url: `/member/search/${pageNum}/${pageSize}`,\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n//根据条件查询\r\nexport const findMemberAPI = (params) => {\r\n    return request({\r\n        url: '/member/search',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n//查询全部\r\nexport const findAllMemberAPI = () => {\r\n    return request({\r\n        url: '/member',\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n//新增\r\nexport const addMemberAPI = data => {\r\n    return request({\r\n        url: '/member',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n//修改\r\nexport const modifyMemberAPI = data => {\r\n    return request({\r\n        url: '/member',\r\n        method: 'put',\r\n        data\r\n    })\r\n}\r\n\r\n//删除\r\nexport const removeMemberAPI = id => {\r\n    return request({\r\n        url: `/member/${id}`,\r\n        method: 'delete'\r\n    })\r\n}\r\n","import request from '@/utils/request'\r\n\r\n//根据条件分页查询\r\nexport const findOrdersPageAPI = (pageNum,pageSize,params) => {\r\n    return request({\r\n        url: `/orders/search/${pageNum}/${pageSize}`,\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n//根据条件查询\r\nexport const findOrdersAPI = (params) => {\r\n    return request({\r\n        url: '/orders/search',\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n//查询全部\r\nexport const findAllOrdersAPI = () => {\r\n    return request({\r\n        url: '/orders',\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n// 后台-新增入住订单\r\nexport const addOrdersAPI = data => {\r\n    return request({\r\n        url: '/orders',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n//修改\r\nexport const modifyOrdersAPI = data => {\r\n    return request({\r\n        url: '/orders',\r\n        method: 'put',\r\n        data\r\n    })\r\n}\r\n\r\n//删除\r\nexport const removeOrdersAPI = id => {\r\n    return request({\r\n        url: `/orders/${id}`,\r\n        method: 'delete'\r\n    })\r\n}\r\n\r\n//确认入住\r\nexport const confirmAPI = id => {\r\n    return request({\r\n        url: `/orders/confirm/${id}`,\r\n        method: 'get'\r\n    })\r\n}\r\n\r\n//退房\r\nexport const checkOutAPI = params => {\r\n    return request({\r\n        url: `/orders/checkOut`,\r\n        method: 'get',\r\n        params\r\n    })\r\n}\r\n\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","searchForm","model","value","remark","callback","$$v","$set","expression","status","memberId","_l","memberList","item","key","id","name","idcard","on","handleSearch","_v","$event","$router","push","directives","rawName","listLoading","list","scopedSlots","_u","fn","scope","row","member","gender","_e","_s","startTime","slice","money","days","confirmOrder","checkOutOrder","deleteCofirm","slot","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","showCheckOutDialog","handleCheckOutDialogClose","checkoutDialogForm","checkOutDialogConfirm","staticRenderFns","data","dialogTitle","dialogFormVisible","dialogForm","created","fetchData","res","findAllMemberAPI","methods","val","response","findOrdersPageAPI","records","removeOrdersAPI","$message","message","type","flag","$confirm","confirmButtonText","cancelButtonText","then","confirmAPI","catch","checkOutAPI","component","findMemberPageAPI","params","request","url","method","addMemberAPI","modifyMemberAPI","removeMemberAPI","addOrdersAPI"],"sourceRoot":""}